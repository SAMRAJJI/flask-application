
{% extends "base.html" %} 

{% block content %}
<link rel="stylesheet" href="{{url_for('static', filename='style/home.css')}}">


<section class="hero-section">

  <!-- LEFT SIDE: CONTENT -->
  <div class="hero-overlay">
    {% if current_user.is_authenticated %}
    <div class="welcome-badge">
      âœ¨ Welcome back, {{ current_user.email.split('@')[0] }}!
    </div>
    {% endif %}

    <h1 class="hero-title">Learning HUB</h1>
    <p class="hero-tagline">
      Transform your workflow with cutting-edge 3D experiences
    </p>

    <div class="hero-buttons">
      {% if current_user.is_authenticated %}
        <a href="{{ url_for('views.dashboard') }}"
           class="btn btn-primary-custom btn-lg">
          Go to Dashboard
        </a>
      {% else %}
        <a href="{{ url_for('auth.login') }}"
           class="btn btn-primary-custom btn-lg">
          Login
        </a>
        <a href="{{ url_for('auth.sigup') }}"
           class="btn btn-outline-custom btn-lg">
          Sign Up
        </a>
      {% endif %}
    </div>
  </div>
  <a href="{{ url_for('views.blogs') }}" class="btn btn-outline-custom">
  Blogs
  </a>


  <!-- RIGHT SIDE: SPLINE -->
  <div class="spline-container">
    <spline-viewer
      url="https://prod.spline.design/RgFZqeR4ifYRHUfU/scene.splinecode">
    </spline-viewer>
  </div>



<script>
document.addEventListener("DOMContentLoaded", function () {

    const chatToggle = document.getElementById("chat-toggle");
    const chatBox = document.getElementById("chat-box");
    const messages = document.getElementById("chat-messages");

    chatToggle.addEventListener("click", () => {
        chatBox.style.display =
            chatBox.style.display === "flex" ? "none" : "flex";
    });

    window.send = function () {
        const input = document.getElementById("msg");
        const text = input.value.trim();
        if (!text) return;

        messages.innerHTML += `<div class="user-msg">${text}</div>`;
        input.value = "";

        fetch("/chat", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({message: text})
        })
        .then(res => res.json())
        .then(data => {
            messages.innerHTML += `<div class="bot-msg">${data.reply}</div>`;
            messages.scrollTop = messages.scrollHeight;
        });
    };

});
</script>

{% endblock %}
